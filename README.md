    
# Foodgram ‚Äî –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫

¬´Foodgram¬ª ‚Äî —ç—Ç–æ –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å –∏ API –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã, –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ä–µ—Ü–µ–ø—Ç—ã –≤ —Å–ø–∏—Å–æ–∫ ¬´–ò–∑–±—Ä–∞–Ω–Ω–æ–µ¬ª, –∞ –ø–µ—Ä–µ–¥ –ø–æ—Ö–æ–¥–æ–º –≤ –º–∞–≥–∞–∑–∏–Ω —Å–∫–∞—á–∏–≤–∞—Ç—å —Å–≤–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –±–ª—é–¥.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   Python 3.9
*   Django 3.2
*   Django REST Framework
*   Docker & Docker Compose
*   Nginx
*   PostgreSQL
*   GitHub Actions

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ Docker)

**1. –°–∫–∞—á–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∫ —Å–µ–±–µ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä:

```
git clone https://github.com/danilovmikhail/foodgram-project-react.git
cd foodgram-project-react
```

  

**2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –ø–∞–ø–∫–µ infra/ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```  
DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DB_HOST=db
DB_PORT=5432
SECRET_KEY='–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_django'
DEBUG=False
ALLOWED_HOSTS=localhost, 127.0.0.1, backend
```
  

**3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**

–ù–∞—Ö–æ–¥—è—Å—å –≤ –ø–∞–ø–∫–µ infra/, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞:

```
docker compose up -d --build
```

**4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–±–æ—Ä–∫—É —Å—Ç–∞—Ç–∏–∫–∏**

```
docker compose exec backend python manage.py migrate
docker compose exec backend python manage.py collectstatic --no-input
```

**5. –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ data/ingredients.json. –ß—Ç–æ–±—ã –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
code Bash

```
docker compose exec backend python manage.py load_ingredients
```

**6. –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç–æ–º:

```
docker compose exec backend python manage.py createsuperuser
```

–ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost/

**üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –∏ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Redoc) –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ http://localhost/api/docs/

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API.
**1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)**

POST /api/auth/token/login/

```
{
    "email": "user@example.com",
    "password": "your_password"
}
```
  

–û—Ç–≤–µ—Ç:

```
{
    "auth_token": "d980345100c529a8f273063f4521405106525732"
}
```

**2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞**

POST /api/recipes/ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)

```
{
  "ingredients": [
    {"id": 1123, "amount": 10},
    {"id": 256, "amount": 200}
  ],
  "name": "–ì—Ä–∏–±–Ω–æ–π —Å—É–ø-–ø—é—Ä–µ",
  "image": "data:image/png;base64,iVBORw0KGgo...",
  "text": "–û—Ç–≤–∞—Ä–∏—Ç—å –≥—Ä–∏–±—ã, –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, –≤–∑–±–∏—Ç—å –±–ª–µ–Ω–¥–µ—Ä–æ–º.",
  "cooking_time": 30
}
```

**3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤**

GET /api/recipes/

–û—Ç–≤–µ—Ç:

```
{
    "count": 123,
    "next": "http://foodgram.example.org/api/recipes/?page=2",
    "previous": null,
    "results": [
        {
            "id": 1,
            "name": "–ì—Ä–∏–±–Ω–æ–π —Å—É–ø-–ø—é—Ä–µ",
            "image": "http://foodgram.example.org/media/recipes/images/soup.jpg",
            "cooking_time": 30,
            "author": {
                "email": "user@example.com",
                "username": "user",
                "first_name": "–í–∞—Å—è",
                "last_name": "–ü—É–ø–∫–∏–Ω"
            }
        }
    ]
}
```

  

**4. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–≤—Ç–æ—Ä–∞**

POST /api/users/{id}/subscribe/ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω)

–û—Ç–≤–µ—Ç:

```
{
    "email": "author@example.com",
    "id": 1,
    "username": "author",
    "first_name": "–ò–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–æ–≤",
    "is_subscribed": true,
    "recipes": [],
    "recipes_count": 0
}
```
  

**GitHub Actions (CI/CD)**

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω workflow (.github/workflows/main.yml), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É main:

    Tests: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ PEP8 (flake8).

    Build: –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤ (Backend, Frontend) –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏—Ö –Ω–∞ Docker Hub.

**üë• –ê–≤—Ç–æ—Ä**

Mikhail Danilov

    GitHub: @danilovmikhail

    Docker Hub: danilovmikhail